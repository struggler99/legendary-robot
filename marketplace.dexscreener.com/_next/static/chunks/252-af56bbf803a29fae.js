"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{3006:function(e,t,r){r.d(t,{U:function(){return o}});var n=r(1549),i=r(974),a=r(5474);r(4194);var s=r(4614),l=r(9798);let o=(0,a.Vv)(function(e){var t;let{field:r}=e,a=(0,l.k)();return(0,n.jsxs)(s.xJ,{children:[(0,n.jsx)(s.lX,{children:"Discord Username"}),(0,n.jsx)(s.NI,{children:(0,n.jsx)(s.II,{...r,value:null!==(t=r.value)&&void 0!==t?t:(0,i.jn)({value:a,onPending:()=>"",onFailure:()=>"",onSuccess:e=>{var t,r;let{session:n}=e;return null!==(r=null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.discord)&&void 0!==r?r:""}})})}),(0,n.jsx)(s.zG,{})]})})},6888:function(e,t,r){r.d(t,{Q:function(){return l}});var n=r(1549),i=r(5474);r(4194);var a=r(4614),s=r(1494);let l=(0,i.Vv)(function(e){let{field:t}=e;return(0,n.jsxs)(a.xJ,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,n.jsx)(a.NI,{children:(0,n.jsx)(a.XZ,{checked:t.value,onCheckedChange:t.onChange})}),(0,n.jsx)("div",{className:"space-y-1 leading-none",children:(0,n.jsxs)(a.lX,{children:["I understand and accept that ",(0,n.jsx)(s.n,{})," reserves the right to reject or modify the provided information"]})})]})})},1857:function(e,t,r){r.d(t,{r:function(){return s}});var n=r(1549),i=r(5474);r(4194);var a=r(4614);let s=(0,i.Vv)(function(e){let{field:t}=e;return(0,n.jsxs)(a.xJ,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,n.jsx)(a.NI,{children:(0,n.jsx)(a.XZ,{checked:t.value,onCheckedChange:t.onChange})}),(0,n.jsx)("div",{className:"space-y-1 leading-none",children:(0,n.jsx)(a.lX,{children:"I understand that all supplied data must be verifiable through official channels such as website and socials."})})]})})},3186:function(e,t,r){r.d(t,{q:function(){return l}});var n=r(1549),i=r(4194),a=r(1593),s=r(4614);let l=(0,i.memo)(function(){return(0,n.jsx)("div",{className:"mx-auto w-1/2",children:(0,n.jsxs)(s.bZ,{variant:"destructive",children:[(0,n.jsx)(a.bcx,{className:"h-4 w-4"}),(0,n.jsx)(s.Cd,{children:"Error"}),(0,n.jsx)(s.X,{children:"Can't create an order. Please try again later."})]})})})},5291:function(e,t,r){r.d(t,{J:function(){return d}});var n=r(1549),i=r(5474),a=r(15),s=r(4194),l=r(8254),o=r(4614),c=r(5450);let d=e=>{let{description:t,label:r,onClearValue:d,onConfirm:u,field:p}=e,{value:h}=p,[x,m]=(0,s.useState)(!1),[g,v]=(0,s.useState)(null!=h?h:""),j=(0,i.s)(g),f=(0,s.useCallback)(e=>{e.stopPropagation(),v(""),null==d||d()},[d]),b=(0,s.useCallback)(e=>{"Enter"===e.key&&(j.current?null==u||u(j.current):null==d||d(),m(!1))},[j,d,u]),z=(0,s.useCallback)(e=>{v(e.target.value)},[]),y=(0,s.useCallback)(()=>{null==u||u(j.current)},[u,j]);return(0,n.jsxs)(o.Vq,{open:x,onOpenChange:m,children:[(0,n.jsx)(o.hg,{asChild:!0,children:(0,n.jsxs)(o.gC,{className:(0,c.cn)(["items-center","rounded-lg","border","bg-white","p-2","shadow","dark:bg-gray-900","justify-center","hover:cursor-pointer","text-sm","hover:border-gray-100","border-gray-200","dark:border-gray-800","hover:dark:border-gray-700","min-h-[62px]"]),children:[(0,n.jsxs)(o.Ug,{spacing:"2",children:[(0,n.jsxs)("span",{children:[!h&&"Add ",r]}),h&&(0,n.jsx)(o.zx,{type:"button",variant:"outline",size:"xs",children:(0,n.jsx)(l.dou,{className:"h-3 w-3"})}),h&&(0,n.jsx)(o.zx,{type:"button",variant:"destructive",size:"xs",onClick:f,children:(0,n.jsx)(l._0w,{className:"h-3 w-3"})})]}),h&&(0,n.jsx)("div",{className:"w-full overflow-hidden text-ellipsis whitespace-nowrap text-center text-sm text-gray-500",children:(0,n.jsx)("span",{title:h,children:h})}),(0,n.jsx)(o.zG,{})]})}),(0,n.jsxs)(o.cZ,{children:[(0,n.jsxs)(o.fK,{children:[(0,n.jsxs)(o.$N,{children:[r," URL"]}),t&&(0,n.jsx)(a.Be,{className:"text-muted-foreground",children:t})]}),(0,n.jsx)(o.lX,{children:"URL"}),(0,n.jsx)(o.NI,{children:(0,n.jsx)(o.II,{type:"url",placeholder:"https://",...p,value:g,onKeyDown:b,onChange:z})}),(0,n.jsx)(o.zG,{}),(0,n.jsxs)(o.cN,{children:[(0,n.jsx)(o.GG,{asChild:!0,children:(0,n.jsx)(o.zx,{type:"button",variant:"destructive-outline",onClick:f,children:"Clear value"})}),(0,n.jsx)(o.GG,{asChild:!0,children:(0,n.jsx)(o.zx,{type:"button",onClick:y,children:"Confirm"})})]})]})]})}},3282:function(e,t,r){r.d(t,{k:function(){return l}});var n=r(1549),i=r(4194),a=r(1593),s=r(4614);let l=(0,i.memo)(e=>{let{children:t,isDisabled:r,isSpinning:i}=e;return(0,n.jsxs)(s.zx,{disabled:r,type:"submit",variant:"accent",children:[i&&(0,n.jsxs)(s.Ug,{children:[(0,n.jsx)(a.dAq,{className:"h-4 w-4 animate-spin"}),(0,n.jsx)("span",{children:t})]}),!i&&t]})});l.displayName="SpinButton"},9598:function(e,t,r){r.d(t,{h:function(){return o}});var n=r(1549),i=r(974),a=r(5474);r(4194);var s=r(4614),l=r(9798);let o=(0,a.Vv)(function(e){var t;let{field:r}=e,a=(0,l.k)();return(0,n.jsxs)(s.xJ,{children:[(0,n.jsx)(s.lX,{children:"Telegram Username"}),(0,n.jsx)(s.NI,{children:(0,n.jsx)(s.II,{...r,value:null!==(t=r.value)&&void 0!==t?t:(0,i.jn)({value:a,onPending:()=>"",onFailure:()=>"",onSuccess:e=>{var t,r;let{session:n}=e;return null!==(r=null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.telegram)&&void 0!==r?r:""}})})}),(0,n.jsx)(s.zG,{})]})})},9432:function(e,t,r){r.d(t,{Q:function(){return G}});var n=r(6988),i=r(5474),a=r(6868),s=r(517),l=r(4194),o=r(1417),c=r(8751),d=r(6921),u=r(7305),p=r(6027),h=r(6367),x=r(7464),m=r(9741),g=r(5394);let v=g.z.object({type:g.z.literal("waiting-for-approval"),orderId:g.z.string().nonempty()}),j=g.z.object({type:g.z.literal("waiting-for-payment"),orderId:g.z.string().nonempty()}),f=g.z.object({type:g.z.literal("error"),errorCode:g.z.union([g.z.literal("wrong-input"),g.z.literal("unknown-products"),g.z.literal("product-not-available-for-sale"),g.z.literal("immediate-purchase-not-available")]),message:g.z.string().optional()}),b=g.z.union([v,f,j]),z=g.z.discriminatedUnion("productId",[h.JI.omit({price:!0,state:!0}),h.pI.omit({price:!0,state:!0}),h.yP.omit({price:!0,state:!0}),h.fL.omit({price:!0,state:!0}),h.tn.omit({price:!0,state:!0}),h.lJ.omit({price:!0,state:!0})]);g.z.object({items:g.z.array(z)});let y=(0,m.b2)(()=>"/api/order"),k=(0,m.b2)(x.Mb,y,(e,t)=>({createOrder:async r=>await e.post(t,b,{body:r})}));var w=r(9053);g.z.object({telegram:g.z.string().trim().optional(),discord:g.z.string().trim().optional()});let C=(0,m.b2)({httpClient:x.Mb},e=>{let{httpClient:t}=e;return{updateInfo:async e=>{await t.post("/api/account",g.z.unknown(),{body:e}),await t.post("/api/auth/session",g.z.unknown(),{headers:{"content-type":"application/json"},body:{csrfToken:await (0,w.getCsrfToken)(),data:e}})}}});var I=r(6840);let N={initial:{kind:"initial"},saving:{kind:"saving"},error:{kind:"error"},redirecting:{kind:"redirecting"}},G=()=>{let e=(0,a.G)(C),t=(0,a.G)(k),r=(0,a.G)(n.kg),h=(0,a.G)(I.Q),x=(0,s.useRouter)(),[m,g]=(0,l.useState)(N.initial);return{state:m,create:(0,i.vg)(n=>n.pipe((0,o.b)(()=>g(N.saving)),(0,c.w)(n=>(0,d.D)(e.updateInfo(n.user)).pipe((0,c.w)(()=>(0,d.D)(t.createOrder(n.order))),(0,u.K)(e=>(r.error({event:{id:"failedCreatingAnOrder",data:{error:e,input:n}}}),g(N.error),p.E)))),(0,o.b)(e=>{switch(e.type){case"waiting-for-approval":g(N.redirecting),x.push({pathname:h.orderWaitingForApproval(e.orderId)});return;case"waiting-for-payment":g(N.redirecting),x.push({pathname:h.orderPayment(e.orderId)});return;case"error":g(N.error);return}})),[e,t,r,x,h])}}},1467:function(e,t,r){r.d(t,{i:function(){return c}});var n=r(7464),i=r(974),a=r(6868),s=r(4194),l=r(5394);let o=l.z.union([l.z.object({type:l.z.literal("error"),description:l.z.string()}),l.z.object({type:l.z.literal("success"),url:l.z.string().url(),id:l.z.string()})]),c=e=>{let t=(0,a.G)(n.Mb),[r,l]=(0,s.useState)(void 0);return{upload:(0,s.useCallback)(async r=>{l(i.Qv);let n=new FormData;n.append("image",r),n.append("type",e.type);try{let e=await t.post("/api/assets/upload",o,{body:n});switch(e.type){case"error":l((0,i.$b)(Error(e.description)));return;case"success":l((0,i.V7)({id:e.id,url:e.url}));return}}catch(e){l((0,i.$b)(Error()))}},[t,e.type]),uploadState:r,clearUpload:(0,s.useCallback)(()=>{l(void 0)},[])}}},4560:function(e,t,r){r.d(t,{Fj:function(){return h},YE:function(){return u},YM:function(){return x},g8:function(){return p}});var n=r(945),i=r(9973),a=r(2174),s=r(5394);let l=/\/(joinchat\/|\+)/,o={telegram:["//t.me","//telegram.me","//telegram.org"],twitter:["//twitter.com","//x.com"],discord:["//discord.com","//discord.gg"],facebook:["//facebook.com"],tiktok:["//tiktok.com"]},c=["//www.dextools.io","//dextools.io"],d=[...o.telegram,...o.discord,...o.twitter],u=n.EM,p="Docs",h=i.OD.stringHttpURL.superRefine((e,t)=>{let r=c.some(t=>e.includes(t)),n=d.some(t=>e.includes(t));(r||n)&&t.addIssue({code:s.z.ZodIssueCode.custom,message:n?"Forbidden domain - please use social links field instead!":"Forbidden domain"})}),x=e=>i.OD.stringHttpURL.refine(t=>o[e].some(e=>t.includes(e)),t=>({message:'"'.concat(t,'" is not valid "').concat((0,a.Z)(e),'" url')})).refine(t=>"telegram"!==e||!t.match(l),{message:"Invite links are not allowed, please use a public link instead (i.e. https://t.me/dexscreenerchat)"})},2441:function(e,t,r){r.d(t,{xI:function(){return d}});var n=r(9741),i=r(7188);let a=(0,n.r)("@dexscreener/util-sanity//token")(),s=(0,n.r)("@dexscreener/util-sanity//projectId")(),l=(0,n.r)("@dexscreener/util-sanity//dataset")(),o=(0,n.r)("@dexscreener/util-sanity//apiVersion")();(0,n.b2)("@dexscreener/util-sanity//SanityClient",a,s,l,o,(e,t,r,n)=>(0,i.eI)({token:e,projectId:t,dataset:r,useCdn:!1,apiVersion:n})),r(839),r(974);var c=r(5394);let d=c.z.object({_type:c.z.literal("reference"),_ref:c.z.string()});c.z.object({_id:c.z.string(),_type:c.z.string(),_createdAt:c.z.string(),_updatedAt:c.z.string()}),c.z.object({_type:c.z.literal("code"),code:c.z.string()}),c.z.enum(["create","update","delete"]),c.z.object({asset:c.z.object({_ref:c.z.string()})})}}]);