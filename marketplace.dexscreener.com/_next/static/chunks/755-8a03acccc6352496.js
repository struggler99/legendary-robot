"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{1682:function(e,t,a){a.d(t,{O:function(){return n},s:function(){return s}});let[n,s]=(0,a(5474).Is)("DSDataChainsContext")},945:function(e,t,a){a.d(t,{EM:function(){return e1},_F:function(){return eh},N4:function(){return e4},XN:function(){return e2},Sj:function(){return A},$A:function(){return k},i0:function(){return y},mc:function(){return z},o1:function(){return I},wQ:function(){return eA}});var n=a(9741);let s=(0,n.r)("@dexscreener/data-access-ds-data//dsDataPersistentCache")();var r=a(5001),i=a(839),o=a(7464),l=a(6892),c=a.n(l),d=a(5057),g=a(9973),p=a(5394),u=a(974);let m=d.gO.enum(["telegram","twitter","discord","facebook","tiktok"]),A=p.z.enum(m.values),_=d.gO.object({type:m,url:d.gO.url()}),h=p.z.object({type:A,url:g.OD.stringAsURL}),S=d.gO.object({label:d.gO.string(),url:d.gO.string()}),T=p.z.object({label:p.z.string(),url:p.z.string()}),b=d.gO.object({date:d.gO.date(),count:d.gO.number()}),y=p.z.object({date:p.z.coerce.date(),count:p.z.number()}),D=d.gO.object({date:d.gO.date(),count:d.gO.number()}),I=p.z.object({date:p.z.coerce.date(),count:p.z.number()}),O=d.gO.enum(["pending","running","ended"]),z=p.z.enum(["pending","running","ended"]),R=d.gO.enum(["native","display"]),k=p.z.enum(["native","display"]),E=d.gO.object({id:d.gO.string(),chainId:d.gO.string(),tokenAddress:d.gO.string(),title:d.gO.string(),description:d.gO.string(),image:d.gO.url(),websites:d.gO.array(S).optional(),socials:d.gO.array(_).optional(),status:O,startDate:d.gO.date(),endDate:d.gO.date().optional(),visits:d.gO.array(D).optional(),totalVisits:d.gO.number(),impressions:d.gO.array(b).optional(),acquiredImpressions:d.gO.number(),usedImpressions:d.gO.number(),impressionURL:d.gO.url()}),C=p.z.object({id:p.z.string(),chainId:p.z.string(),tokenAddress:p.z.string(),title:p.z.string(),description:p.z.string(),image:g.OD.stringAsURL,websites:(0,g.gd)(T).optional(),socials:(0,g.gd)(h).optional(),status:z,startDate:p.z.coerce.date(),endDate:p.z.coerce.date().optional(),visits:(0,g.gd)(I).optional(),totalVisits:p.z.number(),impressions:(0,g.gd)(y).optional(),acquiredImpressions:p.z.number(),usedImpressions:p.z.number(),impressionURL:g.OD.stringAsURL}),f=d.gO.object({id:d.gO.string(),chainId:d.gO.string(),tokenAddress:d.gO.string(),title:d.gO.string(),image:d.gO.url(),status:O,startDate:d.gO.date(),endDate:d.gO.date().optional(),visits:d.gO.array(D).optional(),totalVisits:d.gO.number(),impressions:d.gO.array(b).optional(),usedImpressions:d.gO.number(),impressionURL:d.gO.url()}),M=p.z.object({id:p.z.string(),chainId:p.z.string(),tokenAddress:p.z.string(),title:p.z.string(),image:g.OD.stringAsURL,status:z,startDate:p.z.coerce.date(),endDate:p.z.coerce.date().optional(),visits:(0,g.gd)(I).optional(),totalVisits:p.z.number(),impressions:(0,g.gd)(y).optional(),usedImpressions:p.z.number(),impressionURL:g.OD.stringAsURL,createdAt:p.z.coerce.date(),updatedAt:p.z.coerce.date(),deleted:(0,g.Qp)(p.z.boolean())}),w=f.extend({kind:d.gO.literal("pair-details"),description:d.gO.string(),websites:d.gO.array(S).optional(),socials:d.gO.array(_).optional(),acquiredImpressions:d.gO.number()}),L=M.extend({kind:p.z.literal("pair-details"),description:p.z.string(),websites:(0,g.gd)(T).optional(),socials:(0,g.gd)(h).optional(),acquiredImpressions:p.z.number()}),v=f.omit({endDate:!0}).extend({kind:d.gO.literal("trending-bar"),endDate:d.gO.date()}),N=M.omit({endDate:!0}).extend({kind:p.z.literal("trending-bar"),endDate:p.z.coerce.date()}),P=d.gO.union([w,v]);p.z.union([L,N]);let j=w.pick({kind:!0,id:!0,chainId:!0,tokenAddress:!0,title:!0,description:!0,image:!0,websites:!0,socials:!0,impressionURL:!0}),U=v.pick({kind:!0,id:!0,chainId:!0,tokenAddress:!0,title:!0,image:!0,impressionURL:!0}),x=d.gO.union([j,U]),Y=L.pick({kind:!0,id:!0,chainId:!0,tokenAddress:!0,title:!0,description:!0,image:!0,websites:!0,socials:!0,impressionURL:!0}),Q=N.pick({kind:!0,id:!0,chainId:!0,tokenAddress:!0,title:!0,image:!0,impressionURL:!0}),K=p.z.union([Y,Q]),V=w.extend({format:R.optional()}),F=L.extend({format:k.optional()});d.gO.union([V,v]),p.z.union([F,N]);let G=V.pick({kind:!0,id:!0,chainId:!0,tokenAddress:!0,format:!0,title:!0,description:!0,image:!0,websites:!0,socials:!0,impressionURL:!0});d.gO.union([G,U]);let X=F.pick({kind:!0,id:!0,chainId:!0,tokenAddress:!0,format:!0,title:!0,description:!0,image:!0,websites:!0,socials:!0,impressionURL:!0});p.z.union([X,Q]);let B=E.pick({id:!0,chainId:!0,tokenAddress:!0,title:!0,description:!0,image:!0,socials:!0,websites:!0,impressionURL:!0}).extend({weight:d.gO.number()}),H=C.pick({id:!0,chainId:!0,tokenAddress:!0,title:!0,description:!0,image:!0,socials:!0,websites:!0,impressionURL:!0}).extend({weight:p.z.number()}),J=j.extend({weight:d.gO.number()}),W=U.extend({weight:d.gO.number()}),q=d.gO.union([J,W]),Z=p.z.union([Y.extend({weight:p.z.number()}),Q.extend({weight:p.z.number()})]),$=G.extend({weight:d.gO.number()}),ee=d.gO.union([$,W]),et=p.z.union([X.extend({weight:p.z.number()}),Q.extend({weight:p.z.number()})]),ea=d.gO.object({chainId:d.gO.string(),tokenAddress:d.gO.string(),endDate:d.gO.date().optional()}),en=p.z.object({chainId:p.z.string(),tokenAddress:p.z.string(),endDate:p.z.coerce.date().optional()}),es=d.gO.object({global:d.gO.number(),byChain:d.gO.record(d.gO.string(),d.gO.number())}),er=p.z.object({global:p.z.number(),byChain:p.z.record(p.z.string(),p.z.number())}),ei=d.gO.object({ads:d.gO.array(B),threshold:d.gO.number(),recent:d.gO.array(ea)}),eo=p.z.object({ads:(0,g.gd)(H),threshold:p.z.number(),recent:(0,g.gd)(en)}),el=ei.omit({threshold:!0}).extend({thresholds:es}),ec=eo.omit({threshold:!0}).extend({thresholds:er}),ed=el.omit({ads:!0}).extend({ads:d.gO.array(q)}),eg=ec.omit({ads:!0}).extend({ads:(0,g.gd)(Z)});el.omit({ads:!0}).extend({ads:d.gO.array(ee)}),ec.omit({ads:!0}).extend({ads:(0,g.gd)(et)});let ep=d.gO.object({start:d.gO.number(),end:d.gO.number()});ep.optional();let eu=(0,n.b2)("@dexscreener/data-access-ds-data/dsDataServerAdsDataSource",o.Mb,(0,r.Ck)(),(e,t)=>({getActiveAds:c()(async a=>(0,i.XD)({callback:async()=>{let n=new URL(t.DS_DATA_SERVER_PUBLIC_ORIGIN);return n.pathname="/ds-data/ads/active/v4",e.avro(n.toString(),ed,{signal:null==a?void 0:a.signal})},retrySettings:{tries:t.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:t.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:t.DS_DATA_RETRY_DELAY_IN_MS}})),getNextTrendingBarAdTimeInterval:async a=>{let{duration:n,chainId:s,signal:r}=a,i=new URL(t.DS_DATA_SERVER_PUBLIC_ORIGIN);return i.pathname="/ds-data/ads/trending-bar/next-time-interval",i.searchParams.set("duration",n.toString()),i.searchParams.set("chainId",s),e.avro(i.toString(),ep,{method:"GET",signal:r})}})),em=p.z.object({shortName:(0,g.Qp)(p.z.string()),name:p.z.string(),slug:p.z.string(),nativeChainId:(0,g.Qp)(p.z.number()),order:(0,g.Qp)(p.z.number()),blockExplorer:p.z.object({accountURL:p.z.string(),assetURL:(0,g.Qp)(p.z.string()),txnsURL:(0,g.Qp)(p.z.string()),holdersURL:(0,g.Qp)(p.z.string())}),isHidden:(0,g.Qp)(p.z.boolean()),rpcURL:(0,g.Qp)(p.z.string()),wrappedNativeToken:(0,g.Qp)(p.z.string()),screeners:p.z.array(p.z.string()),indexers:p.z.array(p.z.string()),integrations:(0,g.Qp)(p.z.object({coinGecko:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),chainId:(0,g.Qp)(p.z.string())})),goPlus:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),networkId:(0,g.Qp)(p.z.number())})),tokenSniffer:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),networkId:(0,g.Qp)(p.z.number())})),deBank:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),networkId:(0,g.Qp)(p.z.string())})),coinMarketCap:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),networkId:(0,g.Qp)(p.z.string())})),quickIntel:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),networkId:(0,g.Qp)(p.z.string())})),covalent:(0,g.Qp)(p.z.object({isEnabled:(0,g.Qp)(p.z.boolean()),chainId:(0,g.Qp)(p.z.string())}))})),isChainAndDEX:(0,g.Qp)(p.z.boolean()),dexes:(0,g.gd)(p.z.string()),architecture:(0,g.Qp)(p.z.enum(["svm","aptos","sui","cosmos","evm"]))}),eA=em.omit({screeners:!0,indexers:!0}),e_=(0,n.b2)("@dexscreener/data-access-ds-data/buildChainImageURLFormat",()=>void 0),eh=(0,n.b2)((0,r.Ck)(),e_,(e,t)=>a=>{let n=new URL(e.DS_DATA_SERVER_PUBLIC_ORIGIN);return n.pathname="/ds-data/chains/".concat(a,".png"),t&&n.searchParams.append("format",t),n.toString()});r.jO.pick({DS_DATA_SERVER_PUBLIC_ORIGIN:!0,DS_DATA_RETRY_MAX_ATTEMPTS:!0,DS_DATA_RETRY_TIMEOUT_IN_MS:!0,DS_DATA_RETRY_DELAY_IN_MS:!0});let eS=(0,n.b2)("@dexscreener/data-acccess-ds-data//dsDataServerDsDataChainsDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({getAll:c()(async()=>(0,i.XD)({callback:async()=>{try{let a=new URL(e.DS_DATA_SERVER_PUBLIC_ORIGIN);return a.pathname="/ds-data/v2/chains/by-trending",(await t.get(a.toString(),p.z.array(eA))).map(eT)}catch(e){throw console.error("[dsDataServerDsDataChainsDataSource] getAll error",e),e}},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));function eT(e){return{...e,blockExplorer:{...e.blockExplorer,txnsURL:""===e.blockExplorer.txnsURL?void 0:e.blockExplorer.txnsURL,assetURL:""===e.blockExplorer.assetURL?void 0:e.blockExplorer.assetURL}}}let eb=p.z.object({name:p.z.string(),slug:p.z.string(),swapURL:p.z.string()}),ey=p.z.object({key:p.z.string(),order:p.z.preprocess(e=>null!=e?e:void 0,p.z.number().optional()),chain:p.z.object({id:p.z.string()}),url:p.z.preprocess(e=>null!=e?e:void 0,p.z.string().optional()),swapURL:p.z.preprocess(e=>null!=e?e:void 0,p.z.string().optional()),additionalLinks:p.z.preprocess(e=>null!=e?e:void 0,p.z.array(p.z.object({title:p.z.string(),url:p.z.string()})).optional()),labels:p.z.preprocess(e=>null!=e?e:void 0,p.z.array(p.z.string()).optional()),aggregators:(0,g.gd)(eb).optional()}),eD=p.z.object({name:p.z.string(),slug:p.z.string(),defaultURL:p.z.string(),defaultSwapURL:p.z.string(),defaultAdditionalLinks:p.z.preprocess(e=>null!=e?e:void 0,p.z.array(p.z.object({title:p.z.string(),url:p.z.string()})).optional()),deployments:p.z.array(ey)}),eI=ey.omit({key:!0}),eO=eD.omit({deployments:!0}).extend({deployments:p.z.array(eI)}),ez=(0,n.b2)("@dexscreener/data-access-ds-data/buildDEXImageURLFormat",()=>void 0);(0,n.b2)((0,r.Ck)(),ez,(e,t)=>a=>{let n=new URL(e.DS_DATA_SERVER_PUBLIC_ORIGIN);return n.pathname="/ds-data/dexes/".concat(a,".png"),t&&n.searchParams.append("format",t),n.toString()}),r.jO.pick({DS_DATA_SERVER_PUBLIC_ORIGIN:!0,DS_DATA_RETRY_MAX_ATTEMPTS:!0,DS_DATA_RETRY_TIMEOUT_IN_MS:!0,DS_DATA_RETRY_DELAY_IN_MS:!0});let eR=(0,n.b2)("@dexscreener/data-access-ds-data//dsDataServerDSDataDEXesDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({getAll:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PUBLIC_ORIGIN);return a.pathname="/ds-data/dexes",t.get(a.toString(),p.z.array(eO))},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));var ek=a(3749);let eE=p.z.object({label:p.z.string(),url:p.z.string().url()}),eC=d.gO.object({label:d.gO.string(),url:d.gO.string()}),ef=p.z.enum(["telegram","twitter","discord","facebook","tiktok"]),eM=d.gO.enum(ef.options),ew=p.z.object({type:ef,url:p.z.string().url()}),eL=d.gO.object({type:eM,url:d.gO.string()}),ev=p.z.object({address:p.z.string()}),eN=d.gO.object({address:d.gO.string()}),eP=p.z.object({totalSupply:p.z.number(),burnedSupply:p.z.number(),lockedSupply:p.z.number(),circulatingSupply:p.z.number(),updatedAt:p.z.coerce.date()}),ej=d.gO.object({totalSupply:d.gO.number(),burnedSupply:d.gO.number(),lockedSupply:d.gO.number(),circulatingSupply:d.gO.number(),updatedAt:d.gO.date()}),eU=p.z.object({id:p.z.string(),description:(0,g.Qp)(p.z.string()),claimDescription:(0,g.Qp)(p.z.string()),claimDate:p.z.coerce.date(),websites:(0,g.Qp)((0,g.gd)(eE)),socials:(0,g.Qp)((0,g.gd)(ew)),image:p.z.string().url(),headerImage:p.z.string().url().optional()}),ex=d.gO.object({id:d.gO.string(),description:d.gO.string().optional(),claimDescription:d.gO.string().optional(),claimDate:d.gO.date(),websites:d.gO.array(eC).optional(),socials:d.gO.array(eL).optional(),image:d.gO.string(),headerImage:d.gO.string().optional()}),eY=p.z.object({header:p.z.boolean().optional(),website:p.z.boolean().optional(),twitter:p.z.boolean().optional(),discord:p.z.boolean().optional(),linkCount:p.z.number().optional(),imgKey:p.z.string().optional()}),eQ=d.gO.object({header:d.gO.boolean().optional(),website:d.gO.boolean().optional(),twitter:d.gO.boolean().optional(),discord:d.gO.boolean().optional(),linkCount:d.gO.number().optional(),imgKey:d.gO.string().optional()}),eK=p.z.object({id:p.z.string(),chain:p.z.object({id:p.z.string()}),address:p.z.string(),name:(0,g.Qp)(p.z.string()),symbol:(0,g.Qp)(p.z.string()),description:(0,g.Qp)(p.z.string()),websites:(0,g.Qp)((0,g.gd)(eE)),socials:(0,g.Qp)((0,g.gd)(ew)),lockedAddresses:(0,g.Qp)((0,g.gd)(ev)),supplies:(0,g.Qp)(eP),createdAt:(0,g.Qp)(p.z.coerce.date()),updatedAt:(0,g.Qp)(p.z.coerce.date()),sortByDate:(0,g.Qp)(p.z.coerce.date()),image:p.z.string().url(),headerImage:p.z.string().url().optional(),claims:(0,g.gd)(eU).optional(),profile:eY.optional()}),eV=d.gO.object({id:d.gO.string(),chain:d.gO.object({id:d.gO.string()}),address:d.gO.string(),name:d.gO.string().optional(),symbol:d.gO.string().optional(),description:d.gO.string().optional(),websites:d.gO.array(eC).optional(),socials:d.gO.array(eL).optional(),lockedAddresses:d.gO.array(eN).optional(),supplies:ej.optional(),createdAt:d.gO.date().optional(),updatedAt:d.gO.date().optional(),sortByDate:d.gO.date().optional(),image:d.gO.string(),headerImage:d.gO.string().optional(),claims:d.gO.array(ex).optional(),profile:eQ.optional()}),eF=eY.extend({nsfw:p.z.boolean().optional()}),eG=eQ.extend({nsfw:d.gO.boolean().optional()}),eX=eK.extend({profile:eF.optional()}),eB=eV.omit({profile:!0}).extend({profile:eG.optional()});eK.pick({id:!0,chain:!0,address:!0,description:!0,websites:!0,socials:!0,name:!0,symbol:!0,createdAt:!0});let eH=eV.pick({id:!0,chain:!0,address:!0,description:!0,websites:!0,socials:!0,name:!0,symbol:!0,createdAt:!0}),eJ=eK.pick({id:!0,chain:!0,address:!0,description:!0,websites:!0,socials:!0,name:!0,symbol:!0,createdAt:!0,profile:!0}),eW=eV.pick({id:!0,chain:!0,address:!0,description:!0,websites:!0,socials:!0,name:!0,symbol:!0,createdAt:!0,profile:!0}),eq=eX.pick({id:!0,chain:!0,address:!0,description:!0,websites:!0,socials:!0,name:!0,symbol:!0,createdAt:!0,profile:!0}),eZ=eB.pick({id:!0,chain:!0,address:!0,description:!0,websites:!0,socials:!0,name:!0,symbol:!0,createdAt:!0,profile:!0}),e$=p.z.object({chainId:p.z.string(),tokenAddress:p.z.string()});e$.extend({profile:eY.optional()}),p.z.enum(["sm","md","lg","xl"]);let e0=(0,n.b2)("@dexscreener/data-access-ds-data/buildTokenImageUrlFormat",()=>void 0),e2=(0,n.b2)((0,r.Ck)(),e0,(e,t)=>a=>{let{chainId:n,tokenAddress:s,size:r,cacheKey:i,claimId:o}=a,l=(0,ek.ST)({chainId:n,tokenAddress:s}),c=new URL("".concat(e.DS_DATA_SERVER_PUBLIC_ORIGIN));return c.pathname="/ds-data/tokens/".concat(l.chainId,"/").concat(l.tokenAddress,".png"),o&&c.searchParams.set("claimId",o),r&&c.searchParams.set("size",r),i&&c.searchParams.set("key",i),t&&c.searchParams.set("format",t),c.toString()});p.z.enum(["sm","md","lg","xl"]);let e4=(0,n.b2)((0,r.Ck)(),e=>t=>{let{chainId:a,tokenAddress:n,cacheKey:s,claimId:r,size:i}=t,o=(0,ek.ST)({chainId:a,tokenAddress:n}),l=new URL("".concat(e.DS_DATA_SERVER_PUBLIC_ORIGIN));return l.pathname="/ds-data/tokens/".concat(o.chainId,"/").concat(o.tokenAddress,"/header.png"),r&&l.searchParams.set("claimId",r),i&&l.searchParams.set("size",i),s&&l.searchParams.set("key",s),l.toString()}),e1="Website";p.z.object({chainId:p.z.string(),visitors:p.z.number().default(0)}),d.gO.object({tokens:d.gO.array(eH)}),d.gO.object({tokens:d.gO.array(eW)});let e9=d.gO.object({tokens:d.gO.array(eZ)});r.jO.pick({DS_DATA_SERVER_PUBLIC_ORIGIN:!0,DS_DATA_RETRY_MAX_ATTEMPTS:!0,DS_DATA_RETRY_TIMEOUT_IN_MS:!0,DS_DATA_RETRY_DELAY_IN_MS:!0});let e5=(0,n.b2)("@dexscreener/data-access-ds-data//dsDataServerDsDataTokensDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({getLatestTokens:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PUBLIC_ORIGIN);return a.pathname="/ds-data/v4/tokens/latest",(await t.avro(a.toString(),e9)).tokens},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));d.gO.object({chainId:d.gO.string(),tokenAddress:d.gO.string(),title:d.gO.string(),description:d.gO.string(),image:d.gO.bytes(),websites:d.gO.array(S).optional(),socials:d.gO.array(_).optional(),status:d.gO.enum(["pending","running","ended"]),acquiredImpressions:d.gO.number(),usedImpressions:d.gO.number(),totalVisits:d.gO.number()});let e7=d.gO.object({id:d.gO.string()}),e3=d.gO.union([d.gO.object({kind:d.gO.literal("pair-details"),chainId:d.gO.string(),tokenAddress:d.gO.string(),title:d.gO.string(),image:d.gO.bytes(),description:d.gO.string(),websites:d.gO.array(S).optional(),socials:d.gO.array(_).optional(),acquiredImpressions:d.gO.number()}),d.gO.object({kind:d.gO.literal("trending-bar"),chainId:d.gO.string(),tokenAddress:d.gO.string(),title:d.gO.string(),image:d.gO.bytes(),startDate:d.gO.date(),endDate:d.gO.date()})]);d.gO.union([d.gO.object({kind:d.gO.literal("pair-details"),chainId:d.gO.string(),tokenAddress:d.gO.string(),format:d.gO.enum(["native","display"]),title:d.gO.string(),image:d.gO.bytes(),description:d.gO.string(),websites:d.gO.array(S).optional(),socials:d.gO.array(_).optional(),acquiredImpressions:d.gO.number()}),d.gO.object({kind:d.gO.literal("trending-bar"),chainId:d.gO.string(),tokenAddress:d.gO.string(),title:d.gO.string(),image:d.gO.bytes(),startDate:d.gO.date(),endDate:d.gO.date()})]);let e8=(0,n.b2)("@dexscreener/data-access-ds-data/privateDSDataServerAdsDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({createAd:async a=>{let{input:n,signal:s}=a,r=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return r.pathname="/ds-data/private/ads/v2",r.searchParams.set("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),await t.avro(r.toString(),e7,{method:"POST",body:e3.encode(n),signal:s,headers:{"Content-Type":"application/avro"}})},findAdById:async a=>{let{id:n,signal:s}=a,r=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return r.pathname="/ds-data/private/ads/".concat(n,"/v2"),r.searchParams.set("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),await t.avro(r.toString(),P,{method:"GET",signal:s})}})),e6=p.z.object({name:p.z.string(),slug:p.z.string(),coinGeckoIDs:(0,g.Qp)((0,g.gd)(p.z.string())),coinMarketCapIDs:(0,g.Qp)((0,g.gd)(p.z.string()))});(0,n.b2)("@dexscreener/data-access-ds-data/privateDSDataServerDSDataCategoriessDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({getAll:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return a.pathname="/ds-data/v2/private/categories/all",a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),t.get(a.toString(),(0,g.gd)(e6))},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));let te=p.z.object({amount:p.z.number(),createdAt:p.z.coerce.date()}),tt=p.z.object({type:p.z.literal("token"),tokenAddress:p.z.string(),chainId:p.z.string()}),ta=p.z.object({type:p.z.literal("dex"),dexId:p.z.string()});p.z.union([tt.merge(te),ta.merge(te)]),p.z.enum(["token","dex"]);let tn=p.z.object({stats:p.z.object({m5:p.z.number(),h1:p.z.number(),h6:p.z.number(),h24:p.z.number()})});p.z.union([tt.merge(tn),ta.merge(tn)]),p.z.union([p.z.object({type:p.z.literal("token"),amount:p.z.number(),tokenAddress:p.z.string(),chainId:p.z.string()}),p.z.object({type:p.z.literal("dex"),amount:p.z.number(),dexId:p.z.string()})]),p.z.object({id:p.z.string(),chainId:p.z.string(),tokenAddress:p.z.string(),trendingPenalty:(0,g.Qp)(p.z.object({enable:p.z.literal(!1).optional()}).or(p.z.object({enable:p.z.literal(!0),level:p.z.enum(["low","medium","high"]),reason:p.z.string()}))),noSecuryPenalty:(0,g.Qp)(p.z.object({enable:p.z.literal(!1).optional()}).or(p.z.object({enable:p.z.literal(!0),reason:p.z.string()}))),overrides:(0,g.Qp)(p.z.object({enable:p.z.literal(!1).optional()}).or(p.z.object({enable:p.z.literal(!0),name:p.z.string().optional(),symbol:p.z.string().optional(),totalSupply:p.z.string().optional(),reason:p.z.string()}))),disallowEti:(0,g.Qp)(p.z.object({enable:p.z.literal(!1).optional()}).or(p.z.object({enable:p.z.literal(!0),reason:p.z.string()}))),disallowAds:(0,g.Qp)(p.z.object({enable:p.z.literal(!1).optional()}).or(p.z.object({enable:p.z.literal(!0),reason:p.z.string()}))),moonshot:(0,g.Qp)(p.z.object({isMoonshotToken:p.z.boolean().optional(),creator:p.z.string().optional(),progress:p.z.number().optional(),reason:p.z.string().optional()})),boosts:(0,g.Qp)(p.z.object({isBoostable:p.z.boolean().optional(),reason:p.z.string().optional(),zeroOut:p.z.boolean().optional()})),createdAt:p.z.coerce.date(),updatedAt:p.z.coerce.date(),deleted:(0,g.Qp)(p.z.boolean())});var ts=a(2806);class tr extends Error{constructor(e){super(e.message),this.name="SWRCacheError",this.type=e.type,this.cause=e.cause,Object.setPrototypeOf(this,tr.prototype)}}class ti{async get(e){var t;let a;let n=this.ensureCacheKeyHasPrefix(e.key),s=this.getFromInMemoryCache(n);if(s)a="memory";else try{(s=await this.getFromPersistentCache(n))&&(a="persistent",this.inMemoryCache.set(n,s))}catch(e){this.logPersistentCacheReadFailure({error:e,cacheKey:n})}let r=null!==(t=e.timeToStaleInMs)&&void 0!==t?t:this.params.timeToStaleInMs;if(s){let{isStale:t,cacheAgeInMs:i}=this.isCacheEntryStale(s,this.resolveTimeToStaleInMs(r,s.value));return this.logCacheHit({key:e.key,cacheSource:a,cacheAgeInMs:i,isStale:t}),t&&this.revalidate({key:n,timeToStale:r,callback:()=>e.callback(null==s?void 0:s.value),onRefreshError:e.onRefreshError,revalidateFromPersistentCache:e.revalidateFromPersistentCache}),s.value}if(this.logCacheMiss({key:e.key}),e.avoidSyncExecution){this.revalidate({key:n,timeToStale:r,callback:()=>e.callback(),onRefreshError:e.onRefreshError,revalidateFromPersistentCache:e.revalidateFromPersistentCache});return}return this.runCallbackAndSetCache({cacheKey:n,callback:e.callback})}async getIfPresent(e){let t=this.ensureCacheKeyHasPrefix(e.key),a=this.inMemoryCache.getIfPresent(t);return a||(a=await this.getFromPersistentCache(t)),null==a?void 0:a.value}async delete(e){let t=this.ensureCacheKeyHasPrefix(e);this.inMemoryCache.delete(t),await this.params.persistentCache.delete(t)}isCacheEntryStale(e,t){let a=Date.now()-e.timestamp;return{isStale:a>t,cacheAgeInMs:a}}async revalidate(e){let t=this.ensureCacheKeyHasPrefix(e.key);if(e.revalidateFromPersistentCache&&await this.revalidateFromPersistentCache({cacheKey:t,timeToStale:e.timeToStale})){(0,u.x3)({threshold:this.params.logSamplingThreshold,callback:()=>{this.params.log.debug({event:{id:"swrCacheCall",data:{namespace:this.params.cacheNamespaceKey,cacheKey:e.key,status:"revalidated"}}})}});return}try{await this.runCallbackAndSetCache({cacheKey:t,callback:e.callback})}catch(t){e.onRefreshError(t)}}async revalidateSync(e){let t=this.ensureCacheKeyHasPrefix(e.key);return this.runCallbackAndSetCache({cacheKey:t,callback:e.callback})}getFromInMemoryCache(e){return this.inMemoryCache.getIfPresent(e)}async setToPersistentCache(e,t){try{await this.params.persistentCache.set(e,JSON.stringify(t))}catch(t){this.params.log.error({event:{id:"failedSettingToPersistentCache",data:{error:t,cacheKey:e}}})}}ensureCacheKeyHasPrefix(e){let t="".concat(this.cachePrefixKey,":").concat(this.params.cacheNamespaceKey,":").toLowerCase();return e.toLowerCase().startsWith(t)?e.toLowerCase():t+e.toLowerCase()}resolveTimeToStaleInMs(e,t){return"number"==typeof e?e:e(t)}logCacheHit(e){(0,u.x3)({threshold:this.params.logSamplingThreshold,callback:()=>{this.params.log.debug({event:{id:"swrCacheCall",data:{namespace:this.params.cacheNamespaceKey,cacheKey:e.key,cacheSource:e.cacheSource,status:"hit",isStale:e.isStale,cacheAgeInMs:e.cacheAgeInMs}}})}})}logCacheMiss(e){(0,u.x3)({threshold:this.params.logSamplingThreshold,callback:()=>{this.params.log.debug({event:{id:"swrCacheCall",data:{namespace:this.params.cacheNamespaceKey,cacheKey:e.key,status:"miss"}}})}})}logPersistentCacheReadFailure(e){this.params.log.error({event:{id:"failedReadingFromPersistentCache",data:{error:e.error,namespace:this.params.cacheNamespaceKey,cacheKey:e.cacheKey}}})}constructor(e){this.cachePrefixKey="ds:core:swrCache",this.revalidateFromPersistentCache=c()(async e=>{let t=await this.getFromPersistentCache(e.cacheKey).catch(t=>{this.logPersistentCacheReadFailure({cacheKey:e.cacheKey,error:t})});if(!t)return!1;let{isStale:a}=this.isCacheEntryStale(t,this.resolveTimeToStaleInMs(e.timeToStale,t.value));return!a&&(this.inMemoryCache.set(e.cacheKey,t),!0)},e=>{let[t]=e;return t.cacheKey}),this.runCallbackAndSetCache=c()(async e=>{let{cacheKey:t,callback:a}=e;try{let e=await a(),n={value:e,timestamp:Date.now()};return this.setToPersistentCache(t,n),this.inMemoryCache.set(t,n),e}catch(a){let e=this.getFromInMemoryCache(t);if(e&&this.isCacheEntryStale(e,this.params.maxStaleInMs).isStale)throw new tr({type:"maxStaleError",message:"Cache for ".concat(t," is stale for >").concat(this.params.maxStaleInMs.toLocaleString(),"ms"),cause:a});throw new tr({type:"refreshError",cause:a})}},e=>{let[t]=e;return t.cacheKey}),this.getFromPersistentCache=c()(async e=>{let t=await this.params.persistentCache.get(e);if(null===t)return null;try{return this.cacheSchema.parse(JSON.parse(t))}catch(t){if(null===this.inMemoryCache.getIfPresent(e))return null;throw new tr({type:"parseError",cause:t instanceof p.z.ZodError?t.format():t})}}),this.params=e,this.cacheSchema=p.z.object({value:this.params.schema,timestamp:p.z.number()}),this.inMemoryCache=void 0===this.params.maxInMemorySize?new ts.d6({}):new ts.u1({maxSize:this.params.maxInMemorySize})}}var to=a(6988);let tl=(0,n.b2)("@dexscreener/data-access-ds-data/dsDataAdsRepository",eu,to.kg,s,(0,r.Ck)(),(e,t,a,n)=>{let s=(0,to.ip)(t,"ds-data-ads-repository"),r=new ti({schema:eg,persistentCache:a,timeToStaleInMs:n.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"dsDataAdsRepository",log:s,logSamplingThreshold:n.DS_DATA_LOG_SAMPLING_THRESHOLD}),i={getActiveAds:async()=>r.get({key:"all",callback:async()=>e.getActiveAds(),onRefreshError:e=>{s.error({event:{id:"failedRefreshingAds",data:{error:e}}})}}),start:async()=>{await i.getActiveAds()},getNextTrendingBarAdTimeInterval:e.getNextTrendingBarAdTimeInterval};return i});var tc=a(4621);let td=(0,n.b2)("@dexscreener/data-access-ds-data//DSDataChainsRepository",eS,(0,r.Ck)(),s,to.kg,(e,t,a,n)=>{let s=n.getChildLogger({name:n.settings.name+"/ds-data-chains-repository"}),r=new ti({schema:(0,g.gd)(eA),persistentCache:a,timeToStaleInMs:t.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"dsDataChainsRepository",log:s,logSamplingThreshold:t.DS_DATA_LOG_SAMPLING_THRESHOLD}),i=(0,tc.Z)(e=>{s.error({event:{id:"failedRefreshingChains",data:{error:e}}})},1e3),o={start:async()=>{if(0===(await o.getAll()).length)throw Error("Cannot start dsDataChainsRepository due to empty chains list")},getAll:c()(async()=>r.get({key:"all",callback:()=>e.getAll(),onRefreshError:i})),getSlugs:async()=>(await o.getAll()).map(e=>e.slug),findBySlug:async e=>(await o.getAll()).find(t=>t.slug===e),isChainId:async e=>(await o.getSlugs()).includes(e)};return o});u.AJ,u.AJ,u.AJ,u.AJ,u.AJ;let tg=(0,n.b2)("@dexscreener/data-access-ds-data//DSDataDEXesRepository",eR,(0,r.Ck)(),s,to.kg,(e,t,a,n)=>{let s=n.getChildLogger({name:n.settings.name+"/ds-data-dexes-repository"}),r=new ti({schema:(0,g.gd)(eO),persistentCache:a,timeToStaleInMs:t.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"dsDataDEXesRepository",log:s,logSamplingThreshold:t.DS_DATA_LOG_SAMPLING_THRESHOLD}),i=(0,tc.Z)(e=>{s.error({event:{id:"failedRefreshingDEXes",data:{error:e}}})},1e3),o={getAll:c()(async()=>r.get({key:"all",callback:()=>e.getAll(),onRefreshError:i})),start:async()=>{if(0===(await o.getAll()).length)throw Error("Cannot start dsDataDEXesRepository due to empty DEXes list")},findBySlug:async e=>(await o.getAll()).find(t=>t.slug===e)};return o});u.AJ,u.AJ,u.AJ,(0,n.b2)(e8,e=>({createAd:async t=>e.createAd({input:t}),findAdById:async t=>e.findAdById({id:t})}));let tp=(0,n.b2)("@dexscreener/data-access-ds-data/privateDSDataServerDSDataChainsDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({getAll:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return a.pathname="/ds-data/v2/private/chains/by-txns",a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),t.get(a.toString(),(0,g.gd)(em))},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));(0,n.b2)("@dexscreener/data-access-ds-data/privateDSDataChainsRepository",tp,(0,r.Ck)(),s,to.kg,(e,t,a,n)=>{let s=n.getChildLogger({name:n.settings.name+"/private-ds-data-chains-repository"}),r=new ti({schema:(0,g.gd)(em),persistentCache:a,timeToStaleInMs:t.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"privateDSDataChainsRepository",log:s,logSamplingThreshold:t.DS_DATA_LOG_SAMPLING_THRESHOLD}),i=(0,tc.Z)(e=>{s.error({event:{id:"failedRefreshingPrivateChains",data:{error:e}}})}),o={start:async()=>{if(0===(await o.getAll()).length)throw Error("Cannot start privateDSDataChainsRepository due to empty chains list")},getAll:c()(async()=>r.get({key:"all",callback:()=>e.getAll(),onRefreshError:i})),getSlugs:async()=>(await o.getAll()).map(e=>e.slug),getScreeners:async e=>{let t=await o.findBySlug(e);return null==t?void 0:t.screeners},findBySlug:async e=>(await o.getAll()).find(t=>t.slug===e),findActiveChains:async()=>(await o.getAll()).filter(e=>e.screeners.length>0),findChainsByAMMId:async(e,t)=>(await o.getAll()).filter(a=>t?a.screeners.includes("amm:".concat(e)):a.screeners.includes("amm:".concat(e))||a.screeners.includes("amm:".concat(e,":go"))),findUniswapChains:async()=>(await o.getAll()).filter(e=>e.screeners.includes("uniswap")),findBalancerChains:async()=>(await o.getAll()).filter(e=>e.screeners.includes("balancer")),findOsmosisChains:async()=>(await o.getAll()).filter(e=>e.screeners.includes("osmosis")),findAMMChains:async()=>(await o.getAll()).filter(e=>e.screeners.filter(e=>e.startsWith("amm:")).length>0),isChainId:async e=>(await o.getSlugs()).includes(e)};return o}),u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ,u.AJ;let tu=(0,n.b2)("@dexscreener/data-access-ds-data//privateDSDataServerDSDataDEXesDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({getAll:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return a.pathname="/ds-data/private/dexes",a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),t.get(a.toString(),(0,g.gd)(eD))},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));(0,n.b2)("@dexscreener/data-access-ds-data/privateDSDataDEXesRepository",tu,(0,r.Ck)(),s,to.kg,(e,t,a,n)=>{let s=n.getChildLogger({name:n.settings.name+"/private-ds-data-dexes-repository"}),r=new ti({schema:(0,g.gd)(eD),persistentCache:a,timeToStaleInMs:t.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"privateDSDataDEXesRepository",log:s,logSamplingThreshold:t.DS_DATA_LOG_SAMPLING_THRESHOLD}),i=(0,tc.Z)(e=>{s.error({event:{id:"failedRefreshingPrivateDEXes",data:{error:e}}})}),o={getAll:c()(async()=>r.get({key:"all",callback:()=>e.getAll(),onRefreshError:i})),start:async()=>{await o.getAll()},findDeploymentAndDEX:c()(async e=>{let{chainId:t,key:a}=e;for(let e of(await o.getAll()))for(let n of e.deployments)if(n.chain.id===t&&n.key===a)return{deployment:n,dex:e}}),findBySlug:async e=>(await o.getAll()).find(t=>t.slug===e)};return o}),(0,n.b2)(e5,(0,r.Ck)(),s,to.kg,(e,t,a,n)=>{let s=n.getChildLogger({name:n.settings.name+"/ds-data-tokens-repository"}),r=new ti({schema:eK.optional(),persistentCache:a,timeToStaleInMs:t.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"dsDataTokensRepositoryToken",log:s,logSamplingThreshold:t.DS_DATA_LOG_SAMPLING_THRESHOLD}),i=e=>"".concat(e.chainId,":").concat(e.tokenAddress),o=new ti({schema:(0,g.gd)(eq),persistentCache:a,timeToStaleInMs:t.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"dsDataTokensRepositoryLatestTokens",log:s,logSamplingThreshold:t.DS_DATA_LOG_SAMPLING_THRESHOLD}),l="latest-tokens";return{getLatestTokens:()=>o.get({key:l,callback:()=>e.getLatestTokens(),onRefreshError:e=>{s.error({event:{id:"failedRefreshingLatestTokens",data:{error:e}}})}}),purge:async e=>{await r.delete(i(e)),await o.delete(l)}}});let tm=p.z.object({data:eK.omit({image:!0,headerImage:!0})}),tA=p.z.object({data:eK}),t_=p.z.object({data:eK.optional()}),th=p.z.object({data:p.z.array(e$)}),tS=p.z.object({data:p.z.array(eK)}),tT=p.z.object({data:p.z.array(eK)}),tb=p.z.object({data:p.z.object({claimId:p.z.string().optional()})}),ty=p.z.object({data:p.z.object({claimId:p.z.string().optional()})});r.ap.pick({DS_DATA_SERVER_PUBLIC_ORIGIN:!0,DS_DATA_RETRY_MAX_ATTEMPTS:!0,DS_DATA_RETRY_TIMEOUT_IN_MS:!0,DS_DATA_RETRY_DELAY_IN_MS:!0,DS_DATA_FULL_ACCESS_TOKEN:!0,DS_DATA_SERVER_PRIVATE_ORIGIN:!0});let tD=(0,n.b2)("@dexscreener/data-access-ds-data//privateDSDataServerDsDataTokensDataSource",(0,r.Ck)(),o.Mb,(e,t)=>({createToken:async a=>{let n=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return n.pathname="/ds-data/private/tokens",n.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.post(n.toString(),tm,{headers:{"content-type":"application/json"},body:a})).data},updateToken:async a=>{let{id:n,input:s}=a,r=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);r.pathname="/ds-data/private/tokens/".concat(n,"/update"),r.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),await t.post(r.toString(),p.z.unknown(),{headers:{"content-type":"application/json"},body:s}).catch(e=>{if(!(e instanceof o.Bb)||204!==e.status)throw e})},addTokenClaim:async a=>{let{id:n,input:s}=a,r=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return r.pathname="/ds-data/private/tokens/".concat(n,"/add-claim"),r.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.post(r.toString(),tb,{headers:{"content-type":"application/json"},body:s})).data.claimId},updateTokenClaim:async a=>{let{id:n,input:s}=a,r=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return r.pathname="/ds-data/private/tokens/".concat(n,"/update-claim"),r.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.post(r.toString(),ty,{headers:{"content-type":"application/json"},body:s})).data.claimId},releaseToken:async a=>{let n=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return n.pathname="/ds-data/private/tokens/release",n.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.post(n.toString(),tA,{headers:{"content-type":"application/json"},body:a})).data},findToken:c()(async a=>{let{chainId:n,tokenAddress:s,signal:r}=a;return(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return a.pathname="/ds-data/private/tokens/".concat(encodeURIComponent(n),"/").concat(encodeURIComponent(s)),a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.get(a.toString(),t_,{signal:r})).data},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}})}),getTokensSince:c()(async a=>{let{minutesAgo:n,chainId:s,published:r}=a;return(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return a.pathname="/ds-data/private/tokens/since",a.searchParams.append("minutesAgo",n.toString()),s&&a.searchParams.append("chainId",s),r&&a.searchParams.append("published",r.toString()),a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.get(a.toString(),tS)).data},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}})}),getAllIdentities:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PRIVATE_ORIGIN);return a.pathname="/ds-data/private/tokens-identities",a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.get(a.toString(),th)).data},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}})),getUnreleasedTokens:c()(async()=>(0,i.XD)({callback:async()=>{let a=new URL(e.DS_DATA_SERVER_PUBLIC_ORIGIN);return a.pathname="/ds-data/private/tokens/unreleased",a.searchParams.append("fullAccessToken",e.DS_DATA_FULL_ACCESS_TOKEN),(await t.get(a.toString(),tT)).data},retrySettings:{tries:e.DS_DATA_RETRY_MAX_ATTEMPTS,timeoutInMs:e.DS_DATA_RETRY_TIMEOUT_IN_MS,delayInMs:e.DS_DATA_RETRY_DELAY_IN_MS}}))}));(0,n.b2)((0,r.Ck)(),tD,s,to.kg,(e,t,a,n)=>{let s=n.getChildLogger({name:n.settings.name+"/private-ds-data-tokens-repository"}),r=new ti({schema:(0,g.gd)(e$),persistentCache:a,timeToStaleInMs:e.DS_DATA_TIME_TO_STALE_IN_MS,maxStaleInMs:Number.POSITIVE_INFINITY,cacheNamespaceKey:"dsDataTokensRepositoryIdentities",log:s,logSamplingThreshold:e.DS_DATA_LOG_SAMPLING_THRESHOLD}),i="tokens-identities";return{createToken:async e=>t.createToken(e),updateToken:async e=>t.updateToken(e),addTokenClaim:async e=>t.addTokenClaim(e),updateTokenClaim:async e=>t.updateTokenClaim(e),releaseToken:async e=>t.releaseToken(e),findToken:async e=>t.findToken(e),getTokensSince:async e=>t.getTokensSince(e),getAllIdentities:async()=>r.get({key:i,callback:()=>t.getAllIdentities(),onRefreshError:e=>{s.error({event:{id:"failedRefreshingTokensIdentities",data:{error:e}}})}}),purge:()=>r.delete(i),getUnreleasedTokens:async()=>t.getUnreleasedTokens()}});var tI=a(8577),tO=a(8751),tz=a(8230);(0,n.b2)((0,r.Ck)(),td,(e,t)=>{let a=(0,tI.H)(0,e.DS_DATA_TIME_TO_STALE_IN_MS).pipe(u.Ko),n=a.pipe((0,tO.w)(t.getAll),(0,u.rQ)(),u.Ko);return{all:n,visible:n.pipe((0,tz.U)(e=>e.filter(e=>!e.isHidden)),u.Ko),findById:e=>a.pipe((0,tO.w)(()=>t.findBySlug(e)),(0,u.rQ)(),u.Ko)}}),(0,n.b2)((0,r.Ck)(),tg,(e,t)=>{let a=(0,tI.H)(0,e.DS_DATA_TIME_TO_STALE_IN_MS).pipe(u.Ko),n=a.pipe((0,tO.w)(t.getAll),(0,u.rQ)(),u.Ko);return{all:n,getDEXesByChainId:e=>n.pipe((0,tz.U)(t=>t.filter(t=>t.deployments.some(t=>t.chain.id===e))),u.Ko),findById:e=>a.pipe((0,tO.w)(()=>t.findBySlug(e)),u.Ko)}}),(0,n.b2)(to.kg,tl,o.Mb,(e,t,a)=>{let n=c()(t.getActiveAds),s={getActivePairDetailsAds:async()=>{let{ads:e}=await n(),t=[];for(let a of e)"pair-details"===a.kind&&t.push(a);return t},getThresholdedPairDetailsAds:c()(async()=>{let[{thresholds:e},t]=await Promise.all([n(),s.getActivePairDetailsAds()]),a=Math.random(),r=a<e.global,i={};for(let[t,n]of Object.entries(e.byChain))Object.hasOwn(i,t)||(i[t]=a<n);let o=[];for(let e of t){let t=i[e.chainId];(!0===t||void 0===t&&r)&&o.push(e)}return o}),getActiveTrendingBarAds:async()=>{let{ads:e}=await n(),t=[];for(let a of e)"trending-bar"===a.kind&&t.push(a);return t},getRecentAds:async()=>{let{recent:e}=await n();return e},fetchImpression:async t=>{try{await a.text(t.toString())}catch(t){e.error({event:{id:"failedFetchingAdImpression",data:{error:t}}})}},hasRecentAd:async e=>{var t;return(t={recentAds:await s.getRecentAds(),chainId:e.chainId,tokenAddress:e.tokenAddress}).recentAds.some(e=>e.chainId===t.chainId&&e.tokenAddress.toLowerCase()===t.tokenAddress.toLowerCase())},start:async()=>{await t.start()},getNextTrendingBarAdTimeInterval:t.getNextTrendingBarAdTimeInterval};return s}),d.gO.object({chainThresholds:es}),p.z.object({chainThresholds:er}),d.gO.enum(["token-profile","token-ad"]),p.z.enum(["token-profile","token-ad"]);let tR=d.gO.union([d.gO.object({type:d.gO.literal("token-profile"),data:eW}),d.gO.object({type:d.gO.literal("token-ad"),data:x})]);p.z.discriminatedUnion("type",[p.z.object({type:p.z.literal("token-profile"),data:eJ}),p.z.object({type:p.z.literal("token-ad"),data:K})]);let tk=d.gO.union([d.gO.object({type:d.gO.literal("token-profile"),data:eZ}),d.gO.object({type:d.gO.literal("token-ad"),data:x})]);p.z.discriminatedUnion("type",[p.z.object({type:p.z.literal("token-profile"),data:eq}),p.z.object({type:p.z.literal("token-ad"),data:K})]),d.gO.object({data:d.gO.array(tR)}),d.gO.object({data:d.gO.array(tk)});let tE=d.gO.array(d.gO.object({date:d.gO.date(),count:d.gO.number()})),tC=d.gO.array(d.gO.object({date:d.gO.date(),count:d.gO.number()}));d.gO.object({status:O.optional(),startDate:d.gO.string().optional(),endDate:d.gO.string().optional(),impressions:tE.optional(),impressionURL:d.gO.url().optional(),usedImpressions:d.gO.number().optional(),visits:tC.optional(),totalVisits:d.gO.number().optional()})},5474:function(e,t,a){a.d(t,{Is:function(){return _},Vv:function(){return s},vg:function(){return l},Qk:function(){return g},s:function(){return r},OT:function(){return p}});var n=a(4194);let s=n.memo;function r(e){let t=(0,n.useRef)(e);return t.current=e,t}var i=a(974);let o=(e,t)=>{(0,n.useEffect)(()=>{var t;let a=null===(t=e())||void 0===t?void 0:t.subscribe();return()=>null==a?void 0:a.unsubscribe()},t)};function l(e,t){let[a,s]=(0,n.useMemo)(()=>{let[t,a]=(0,i.If)();return[t,e(a)]},t);return o(()=>s,[s]),a}let c=e=>{switch(e.kind){case"AsyncSuccess":case"AsyncPendingWithData":case"AsyncFailureWithData":return{kind:"AsyncPendingWithData",value:e.value};case"AsyncPending":case"AsyncFailure":return i.Qv}},d=(e,t)=>{let a=(0,i.KC)(t);switch(e.kind){case"AsyncPending":case"AsyncFailure":return{kind:"AsyncFailure",error:a};case"AsyncSuccess":case"AsyncFailureWithData":case"AsyncPendingWithData":return{kind:"AsyncFailureWithData",error:a,value:e.value}}},g=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Qv,[s,r]=(0,n.useState)(()=>a);return(0,n.useEffect)(()=>{r(c);let t=e().subscribe({next:e=>r({kind:"AsyncSuccess",value:e}),error:e=>{r(t=>d(t,e))}});return()=>t.unsubscribe()},t),s},p=e=>{let[t,a]=(0,n.useState)(e);return{value:t,enable:(0,n.useCallback)(()=>a(!0),[]),disable:(0,n.useCallback)(()=>a(!1),[]),toggle:(0,n.useCallback)(()=>a(e=>!e),[])}};var u=a(1549),m=a(6984);let A=Symbol("None");function _(e){let t=(0,m.kr)(A),a=e=>(0,u.jsx)(t.Provider,{value:e.value,children:e.children});return a.displayName="".concat(e,"Provider"),[function(a){return(0,m.Sz)(t,t=>{if(t===A)throw Error("use".concat(e," must be called within ").concat(e,"Provider subtree"));return a(t)})},a]}a(5394).z.enum(["idle","loading","ready","error"])}}]);